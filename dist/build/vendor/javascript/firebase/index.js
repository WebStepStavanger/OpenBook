!function(){function g(t){throw t}function aa(t){return function(){return this[t]}}function r(t){return function(){return t}}function ca(){}function da(t){t.xc=function(){return t.bd?t.bd:t.bd=new t}}function ea(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&"undefined"!=typeof t.splice&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof t.call&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&"undefined"==typeof t.call)return"object";return e}function u(t){return t!==j}function fa(t){var e=ea(t);return"array"==e||"object"==e&&"number"==typeof t.length}function v(t){return"string"==typeof t}function ga(t){return"number"==typeof t}function ha(t){var e=typeof t;return"object"==e&&t!=l||"function"==e}function ia(t){return t.call.apply(t.bind,arguments)}function ja(t,e){if(t||g(Error()),2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,n),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function w(){return w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ia:ja,w.apply(l,arguments)}function ka(t,e){function n(){}n.prototype=e.prototype,t.Vd=e.prototype,t.prototype=new n}function la(a){if(a=String(a),/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x10-\x1f\x80-\x9f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}g(Error("Invalid JSON string: "+a))}function ma(){this.cc=j}function na(t,e,n){switch(typeof e){case"string":oa(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?e:"null");break;case"boolean":n.push(e);break;case"undefined":n.push("null");break;case"object":if(e==l){n.push("null");break}if("array"==ea(e)){var i=e.length;n.push("[");for(var o="",r=0;i>r;r++)n.push(o),o=e[r],na(t,t.cc?t.cc.call(e,String(r),o):o,n),o=",";n.push("]");break}n.push("{"),i="";for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&(o=e[r],"function"!=typeof o&&(n.push(i),oa(r,n),n.push(":"),na(t,t.cc?t.cc.call(e,r,o):o,n),i=","));n.push("}");break;case"function":break;default:g(Error("Unknown type: "+typeof e))}}function oa(t,e){e.push('"',t.replace(qa,function(t){if(t in pa)return pa[t];var e=t.charCodeAt(0),n="\\u";return 16>e?n+="000":256>e?n+="00":4096>e&&(n+="0"),pa[t]=n+e.toString(16)}),'"')}function y(t){if("undefined"!=typeof JSON&&u(JSON.stringify))t=JSON.stringify(t);else{var e=[];na(new ma,t,e),t=e.join("")}return t}function ra(t){for(var e=[],n=0,i=0;i<t.length;i++){var o=t.charCodeAt(i);o>=55296&&56319>=o&&(o-=55296,i++,z(i<t.length,"Surrogate pair missing trail surrogate."),o=65536+(o<<10)+(t.charCodeAt(i)-56320)),128>o?e[n++]=o:(2048>o?e[n++]=192|o>>6:(65536>o?e[n++]=224|o>>12:(e[n++]=240|o>>18,e[n++]=128|63&o>>12),e[n++]=128|63&o>>6),e[n++]=128|63&o)}return e}function A(t,e,n,i){var o;e>i?o="at least "+e:i>n&&(o=0===n?"none":"no more than "+n),o&&g(Error(t+" failed: Was called with "+i+(1===i?" argument.":" arguments.")+" Expects "+o+"."))}function B(t,e,n){var i="";switch(e){case 1:i=n?"first":"First";break;case 2:i=n?"second":"Second";break;case 3:i=n?"third":"Third";break;case 4:i=n?"fourth":"Fourth";break;default:sa.assert(o,"errorPrefix_ called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+(i+" argument ")}function C(t,e,n,i){(!i||u(n))&&"function"!=ea(n)&&g(Error(B(t,e,i)+"must be a valid function."))}function ta(t,e,n){u(n)&&(!ha(n)||n===l)&&g(Error(B(t,e,k)+"must be a valid context object."))}function D(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ua(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function xa(t){return v(t)&&0!==t.length&&!va.test(t)}function ya(t,e,n){(!n||u(e))&&za(B(t,1,n),e)}function za(t,e,n,i){if(n||(n=0),i||(i=[]),u(e)||g(Error(t+"contains undefined"+Aa(i))),"function"==ea(e)&&g(Error(t+"contains a function"+Aa(i)+" with contents: "+e.toString())),Ba(e)&&g(Error(t+"contains "+e.toString()+Aa(i))),n>1e3&&g(new TypeError(t+"contains a cyclic object value ("+i.slice(0,100).join(".")+"...)")),v(e)&&e.length>10485760/3&&10485760<ra(e).length&&g(Error(t+"contains a string greater than 10485760 utf8 bytes"+Aa(i)+" ('"+e.substring(0,50)+"...')")),ha(e))for(var o in e)D(e,o)&&(".priority"!==o&&".value"!==o&&".sv"!==o&&!xa(o)&&g(Error(t+"contains an invalid key ("+o+")"+Aa(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')),i.push(o),za(t,e[o],n+1,i),i.pop())}function Aa(t){return 0==t.length?"":" in property '"+t.join(".")+"'"}function Ca(t,e){ha(e)||g(Error(B(t,1,o)+" must be an object containing the children to replace.")),ya(t,e,o)}function Da(t,e,n,i){!(i&&!u(n)||n===l||ga(n)||v(n)||ha(n)&&D(n,".sv")||!g(Error(B(t,e,i)+"must be a valid firebase priority (a string, number, or null).")))}function Ea(t,e,n){if(!n||u(e))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:g(Error(B(t,1,n)+'must be a valid event type: "value", "child_added", "child_removed", "child_changed", or "child_moved".'))}}function Fa(t,e){u(e)&&!xa(e)&&g(Error(B(t,2,k)+'was an invalid key: "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").'))}function Ga(t,e){(!v(e)||0===e.length||wa.test(e))&&g(Error(B(t,1,o)+'was an invalid path: "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"'))}function E(t,e){".info"===F(e)&&g(Error(t+" failed: Can't modify data under /.info/"))}function H(t,e,n,i,o,r,a){this.n=t,this.path=e,this.Ba=n,this.ca=i,this.ua=o,this.za=r,this.Ra=a,u(this.ca)&&u(this.za)&&u(this.Ba)&&g("Query: Can't combine startAt(), endAt(), and limit().")}function Ia(t){var e={};return u(t.ca)&&(e.sp=t.ca),u(t.ua)&&(e.sn=t.ua),u(t.za)&&(e.ep=t.za),u(t.Ra)&&(e.en=t.Ra),u(t.Ba)&&(e.l=t.Ba),u(t.ca)&&u(t.ua)&&t.ca===l&&t.ua===l&&(e.vf="l"),e}function Ha(t,e,n){var i={};return e&&n?(i.cancel=e,C(t,3,i.cancel,k),i.S=n,ta(t,4,i.S)):e&&("object"==typeof e&&e!==l?i.S=e:"function"==typeof e?i.cancel=e:g(Error(B(t,3,k)+"must either be a cancel callback or a context object."))),i}function K(t){if(t instanceof K)return t;if(1==arguments.length){this.m=t.split("/");for(var e=0,n=0;n<this.m.length;n++)0<this.m[n].length&&(this.m[e]=this.m[n],e++);this.m.length=e,this.Z=0}else this.m=arguments[0],this.Z=arguments[1]}function F(t){return t.Z>=t.m.length?l:t.m[t.Z]}function Ka(t){var e=t.Z;return e<t.m.length&&e++,new K(t.m,e)}function La(t,e){var n=F(t);return n===l?e:n===F(e)?La(Ka(t),Ka(e)):(g("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")"),void 0)}function Ma(){this.children={},this.oc=0,this.value=l}function Na(t,e,n){this.Ca=t?t:"",this.zb=e?e:l,this.z=n?n:new Ma}function L(t,e){for(var n,i=e instanceof K?e:new K(e),o=t;(n=F(i))!==l;)o=new Na(n,o,ua(o.z.children,n)||new Ma),i=Ka(i);return o}function M(t,e){z("undefined"!=typeof e),t.z.value=e,Oa(t)}function Pa(t,e,n,i){n&&!i&&e(t),t.w(function(t){Pa(t,e,k,i)}),n&&i&&e(t)}function Qa(t,e,n){for(t=n?t:t.parent();t!==l;){if(e(t))return k;t=t.parent()}return o}function Oa(t){if(t.zb!==l){var e=t.zb,n=t.Ca,i=t.f(),o=D(e.z.children,n);i&&o?(delete e.z.children[n],e.z.oc--,Oa(e)):!i&&!o&&(e.z.children[n]=t.z,e.z.oc++,Oa(e))}}function Ra(t,e){this.Oa=t?t:Sa,this.ba=e?e:Ta}function Sa(t,e){return e>t?-1:t>e?1:0}function Ua(t,e){for(var n,i=t.ba,o=l;!i.f();){if(n=t.Oa(e,i.key),0===n){if(i.left.f())return o?o.key:l;for(i=i.left;!i.right.f();)i=i.right;return i.key}0>n?i=i.left:n>0&&(o=i,i=i.right)}g(Error("Attempted to find predecessor key for a nonexistent key.  What gives?"))}function Va(t,e){for(this.jd=e,this.Qb=[];!t.f();)this.Qb.push(t),t=t.left}function Wa(t){if(0===t.Qb.length)return l;var e,n=t.Qb.pop();for(e=t.jd?t.jd(n.key,n.value):{key:n.key,value:n.value},n=n.right;!n.f();)t.Qb.push(n),n=n.left;return e}function Xa(t,e,n,i,o){this.key=t,this.value=e,this.color=n!=l?n:k,this.left=i!=l?i:Ta,this.right=o!=l?o:Ta}function Ya(t){return t.left.f()?t:Ya(t.left)}function bb(t){return t.left.f()?Ta:(!t.left.N()&&!t.left.left.N()&&(t=cb(t)),t=t.copy(l,l,l,bb(t.left),l),Za(t))}function Za(t){return t.right.N()&&!t.left.N()&&(t=fb(t)),t.left.N()&&t.left.left.N()&&(t=db(t)),t.left.N()&&t.right.N()&&(t=eb(t)),t}function cb(t){return t=eb(t),t.right.left.N()&&(t=t.copy(l,l,l,l,db(t.right)),t=fb(t),t=eb(t)),t}function fb(t){var e;return e=t.copy(l,l,k,l,t.right.left),t.right.copy(l,l,t.color,e,l)}function db(t){var e;return e=t.copy(l,l,k,t.left.right,l),t.left.copy(l,l,t.color,l,e)}function eb(t){var e,n;return e=t.left.copy(l,l,!t.left.color,l,l),n=t.right.copy(l,l,!t.right.color,l,l),t.copy(l,l,!t.color,e,n)}function gb(){}function kb(){}function lb(){this.B=[],this.nc=[],this.rd=[],this.Wb=[],this.Wb[0]=128;for(var t=1;64>t;++t)this.Wb[t]=0;this.reset()}function mb(t,e){var n;n||(n=0);for(var i=t.rd,o=n;n+64>o;o+=4)i[o/4]=e[o]<<24|e[o+1]<<16|e[o+2]<<8|e[o+3];for(o=16;80>o;o++){var r=i[o-3]^i[o-8]^i[o-14]^i[o-16];i[o]=4294967295&(r<<1|r>>>31)}n=t.B[0];for(var a,s=t.B[1],c=t.B[2],h=t.B[3],u=t.B[4],o=0;80>o;o++)40>o?20>o?(r=h^s&(c^h),a=1518500249):(r=s^c^h,a=1859775393):60>o?(r=s&c|h&(s|c),a=2400959708):(r=s^c^h,a=3395469782),r=4294967295&(n<<5|n>>>27)+r+u+a+i[o],u=h,h=c,c=4294967295&(s<<30|s>>>2),s=n,n=r;t.B[0]=4294967295&t.B[0]+n,t.B[1]=4294967295&t.B[1]+s,t.B[2]=4294967295&t.B[2]+c,t.B[3]=4294967295&t.B[3]+h,t.B[4]=4294967295&t.B[4]+u}function nb(){this.Na={},this.length=0}function qb(t,e,n,i){this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.dc=e,this.sb=n,this.ea=i||ob.getItem(t)||this.host}function rb(t,e){e!==t.ea&&(t.ea=e,"s-"===t.ea.substr(0,2)&&ob.setItem(t.host,t.ea))}function wb(){return ba.navigator?ba.navigator.userAgent:l}function Gb(t,e){if(fa(t)||g(Error("encodeByteArray takes an array as a parameter")),!Eb){Eb={},Fb={};for(var n=0;65>n;n++)Eb[n]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(n),Fb[n]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(n)}for(var n=e?Fb:Eb,i=[],o=0;o<t.length;o+=3){var r=t[o],a=o+1<t.length,s=a?t[o+1]:0,c=o+2<t.length,h=c?t[o+2]:0,u=r>>2,r=(3&r)<<4|s>>4,s=(15&s)<<2|h>>6,h=63&h;c||(h=64,a||(s=64)),i.push(n[u],n[r],n[s],n[h])}return i.join("")}function z(t,e){t||g(Error("Firebase INTERNAL ASSERT FAILED:"+e))}function Jb(t){var e=ra(t),t=new lb;t.update(e);var e=[],n=8*t.Sc;56>t.mb?t.update(t.Wb,56-t.mb):t.update(t.Wb,64-(t.mb-56));for(var i=63;i>=56;i--)t.nc[i]=255&n,n/=256;for(mb(t,t.nc),i=n=0;5>i;i++)for(var o=24;o>=0;o-=8)e[n++]=255&t.B[i]>>o;return Gb(e)}function Kb(){for(var t="",e=0;e<arguments.length;e++)t=fa(arguments[e])?t+Kb.apply(l,arguments[e]):"object"==typeof arguments[e]?t+y(arguments[e]):t+arguments[e],t+=" ";return t}function N(){if(Mb===k&&(Mb=o,Lb===l&&"true"===ob.getItem("logging_enabled")&&Nb(k)),Lb){var t=Kb.apply(l,arguments);Lb(t)}}function Ob(t){return function(){N(t,arguments)}}function Pb(){if("undefined"!=typeof console){var t="FIREBASE INTERNAL ERROR: "+Kb.apply(l,arguments);"undefined"!=typeof console.error?console.error(t):console.log(t)}}function Qb(){var t=Kb.apply(l,arguments);g(Error("FIREBASE FATAL ERROR: "+t))}function P(){if("undefined"!=typeof console){var t="FIREBASE WARNING: "+Kb.apply(l,arguments);"undefined"!=typeof console.warn?console.warn(t):console.log(t)}}function Ba(t){return ga(t)&&(t!=t||t==Number.POSITIVE_INFINITY||t==Number.NEGATIVE_INFINITY)}function Rb(t,e){return t!==e?t===l?-1:e===l?1:typeof t!=typeof e?"number"==typeof t?-1:1:t>e?1:-1:0}function Sb(t,e){if(t===e)return 0;var n=Tb(t),i=Tb(e);return n!==l?i!==l?n-i:-1:i!==l?1:e>t?-1:1}function Ub(t,e){return e&&t in e?e[t]:(g(Error("Missing required key ("+t+") in object: "+y(e))),void 0)}function Ja(t){if("object"!=typeof t||t===l)return y(t);var e,n=[];for(e in t)n.push(e);n.sort(),e="{";for(var i=0;i<n.length;i++)0!==i&&(e+=","),e+=y(n[i]),e+=":",e+=Ja(t[n[i]]);return e+"}"}function Vb(t,e){if(t.length<=e)return[t];for(var n=[],i=0;i<t.length;i+=e)i+e>t?n.push(t.substring(i,t.length)):n.push(t.substring(i,i+e));return n}function Wb(t,e){if("array"==ea(t))for(var n=0;n<t.length;++n)e(n,t[n]);else Xb(t,e)}function Yb(t){z(!Ba(t));var e,n,i,o;for(0===t?(i=n=0,e=-1/0===1/t?1:0):(e=0>t,t=Math.abs(t),t>=Math.pow(2,-1022)?(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023),n=i+1023,i=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,i=Math.round(t/Math.pow(2,-1074)))),o=[],t=52;t;t-=1)o.push(i%2?1:0),i=Math.floor(i/2);for(t=11;t;t-=1)o.push(n%2?1:0),n=Math.floor(n/2);for(o.push(e?1:0),o.reverse(),e=o.join(""),n="",t=0;64>t;t+=8)i=parseInt(e.substr(t,8),2).toString(16),1===i.length&&(i="0"+i),n+=i;return n.toLowerCase()}function Tb(t){return Zb.test(t)&&(t=parseInt(t),t>=-2147483648&&2147483647>=t)?t:l}function $b(t){try{t()}catch(e){setTimeout(function(){g(e)})}}function ac(t,e){this.D=t,z(this.D!==l,"LeafNode shouldn't be created with null value."),this.Za="undefined"!=typeof e?e:l}function cc(t,e){return Rb(t.ha,e.ha)||Sb(t.name,e.name)}function dc(t,e){return Sb(t.name,e.name)}function ec(t,e){return Sb(t,e)}function R(t,e){this.o=t||new Ra(ec),this.Za="undefined"!=typeof e?e:l}function fc(t,e,n){R.call(this,t,n),e===l&&(e=new Ra(cc),t.Aa(function(t,n){e=e.na({name:t,ha:n.j()},n)})),this.ta=e}function S(t,e){if(t===l)return Q;var n=l;if("object"==typeof t&&".priority"in t?n=t[".priority"]:"undefined"!=typeof e&&(n=e),z(n===l||"string"==typeof n||"number"==typeof n||"object"==typeof n&&".sv"in n),"object"==typeof t&&".value"in t&&t[".value"]!==l&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new ac(t,n);if(t instanceof Array){var i,r=Q;for(i in t)if(D(t,i)&&"."!==i.substring(0,1)){var a=S(t[i]);(a.M()||!a.f())&&(r=r.G(i,a))}return r.Ea(n)}var s=[],c={},h=o;return Wb(t,function(e,n){if("string"!=typeof n||"."!==n.substring(0,1)){var i=S(t[n]);i.f()||(h=h||i.j()!==l,s.push({name:n,ha:i.j()}),c[n]=i)}}),r=hc(s,c,o),h?(i=hc(s,c,k),new fc(r,i,n)):new R(r,n)}function jc(t){this.count=parseInt(Math.log(t+1)/ic),this.Xc=this.count-1,this.td=t+1&parseInt(Array(this.count+1).join("1"),2)}function hc(t,e,n){function i(i,o){var a=u-i,s=u;u-=i;var f=t[a].name,a=new Xa(n?t[a]:f,e[f],o,l,r(a+1,s));c?c.left=a:h=a,c=a}function r(i,a){var s=a-i;if(0==s)return l;if(1==s){var s=t[i].name,c=n?t[i]:s;return new Xa(c,e[s],o,l,l)}var c=parseInt(s/2)+i,h=r(i,c),u=r(c+1,a),s=t[c].name,c=n?t[c]:s;return new Xa(c,e[s],o,h,u)}var a=n?cc:dc;t.sort(a);var s,a=new jc(t.length),c=l,h=l,u=t.length;for(s=0;s<a.count;++s){var f=!(a.td&1<<a.Xc);a.Xc--;var p=Math.pow(2,a.count-(s+1));f?i(p,o):(i(p,o),i(p,k))}return s=h,a=n?cc:ec,s!==l?new Ra(a,s):new Ra(a)}function bc(t){return"number"==typeof t?"number:"+Yb(t):"string:"+t}function T(t,e){this.z=t,this.ac=e}function kc(t){z("array"==ea(t)&&0<t.length),this.sd=t,this.qb={}}function mc(t,e){var n,i=t.sd;t:{n=function(t){return t===e};for(var o=i.length,r=v(i)?i.split(""):i,a=0;o>a;a++)if(a in r&&n.call(j,r[a])){n=a;break t}n=-1}z(0>n?l:v(i)?i.charAt(n):i[n],"Unknown event: "+e)}function nc(){kc.call(this,["visible"]);var t,e;if("undefined"!=typeof document&&"undefined"!=typeof document.addEventListener&&("undefined"!=typeof document.hidden?(e="visibilitychange",t="hidden"):"undefined"!=typeof document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):"undefined"!=typeof document.msHidden?(e="msvisibilitychange",t="msHidden"):"undefined"!=typeof document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.gb=k,e){var n=this;document.addEventListener(e,function(){var e=!document[t];e!==n.gb&&(n.gb=e,n.Uc("visible",e))},o)}}function oc(t){this.Gc=t,this.Yb=[],this.Qa=0,this.pc=-1,this.Ia=l}function Xb(t,e){for(var n in t)e.call(j,t[n],n,t)}function pc(t){var e,n={};for(e in t)n[e]=t[e];return n}function qc(){this.ib={}}function rc(t,e,n){u(n)||(n=1),D(t.ib,e)||(t.ib[e]=0),t.ib[e]+=n}function sc(t){this.ud=t,this.Pb=l}function tc(t,e){this.Pc={},this.gc=new sc(t),this.u=e,setTimeout(w(this.gd,this),10+6e4*Math.random())}function wc(t){return t=t.toString(),uc[t]||(uc[t]=new qc),uc[t]}function yc(t,e,n){this.qc=t,this.e=Ob(this.qc),this.frames=this.ob=l,this.Rc=0,this.$=wc(e),this.Pa=(e.dc?"wss://":"ws://")+e.ea+"/.ws?v=5",e.host!==e.ea&&(this.Pa=this.Pa+"&ns="+e.sb),n&&(this.Pa=this.Pa+"&s="+n)}function Bc(t,e){if(t.frames.push(e),t.frames.length==t.Rc){var n=t.frames.join("");t.frames=l,n="undefined"!=typeof JSON&&u(JSON.parse)?JSON.parse(n):la(n),t.Fd(n)}}function Ac(t){clearInterval(t.ob),t.ob=setInterval(function(){t.Y.send("0"),Ac(t)},45e3)}function Cc(){this.set={}}function U(t,e){for(var n in t.set)D(t.set,n)&&e(n,t.set[n])}function Fc(t,e,n){this.qc=t,this.e=Ob(t),this.Ud=e,this.$=wc(e),this.fc=n,this.jb=o,this.Lb=function(t){e.host!==e.ea&&(t.ns=e.sb);var n,i=[];for(n in t)t.hasOwnProperty(n)&&i.push(n+"="+t[n]);return(e.dc?"https://":"http://")+e.ea+"/.lp?"+i.join("&")}}function Ic(t,e,n,i){if(this.Lb=i,this.ga=n,this.Ic=new Cc,this.Bb=[],this.rc=Math.floor(1e8*Math.random()),this.ec=k,this.ic=Hb(),window[Dc+this.ic]=t,window[Ec+this.ic]=e,t=document.createElement("iframe"),t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||N("No IE domain setting required")}catch(o){t.src="javascript:void((function(){document.open();document.domain='"+document.domain+"';document.close();})())"}}else g("Document body has not initialized. Wait to initialize Firebase until after the document is ready.");t.contentDocument?t.ya=t.contentDocument:t.contentWindow?t.ya=t.contentWindow.document:t.document&&(t.ya=t.document),this.X=t,t="",this.X.src&&"javascript:"===this.X.src.substr(0,11)&&(t='<script>document.domain="'+document.domain+'";</script>'),t="<html><body>"+t+"</body></html>";try{this.X.ya.open(),this.X.ya.write(t),this.X.ya.close()}catch(r){N("frame writing exception"),r.stack&&N(r.stack),N(r)}}function Kc(t){if(t.lc&&t.ec&&t.Ic.count()<(0<t.Bb.length?2:1)){t.rc++;var e={};e.id=t.Dd,e.pw=t.Ed,e.ser=t.rc;for(var e=t.Lb(e),n="",i=0;0<t.Bb.length&&1870>=t.Bb[0].Yc.length+30+n.length;){var r=t.Bb.shift(),n=n+"&seg"+i+"="+r.Nd+"&ts"+i+"="+r.Sd+"&d"+i+"="+r.Yc;i++}var e=e+n,a=t.rc;t.Ic.add(a);var s=function(){t.Ic.remove(a),Kc(t)},c=setTimeout(s,25e3);return Jc(t,e,function(){clearTimeout(c),s()}),k}return o}function Jc(t,e,n){setTimeout(function(){try{if(t.ec){var i=t.X.ya.createElement("script");i.type="text/javascript",i.async=k,i.src=e,i.onload=i.onreadystatechange=function(){var t=i.readyState;t&&"loaded"!==t&&"complete"!==t||(i.onload=i.onreadystatechange=l,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=function(){N("Long-poll script failed to load: "+e),t.ec=o,t.close()},t.X.ya.body.appendChild(i)}}catch(r){}},1)}function Lc(){var t=[];Wb(Mc,function(e,n){n&&n.isAvailable()&&t.push(n)}),this.hc=t}function Nc(t,e,n,i,o,r){this.id=t,this.e=Ob("c:"+this.id+":"),this.Gc=n,this.wb=i,this.Q=o,this.Fc=r,this.O=e,this.Xb=[],this.Vc=0,this.Tc=new Lc,this.va=0,this.e("Connection created"),Oc(this)}function Oc(t){var e,n=t.Tc;0<n.hc.length?e=n.hc[0]:g(Error("No transports available")),t.K=new e("c:"+t.id+":"+t.Vc++,t.O);var i=Pc(t,t.K),o=Qc(t,t.K);t.Jb=t.K,t.Hb=t.K,t.A=l,setTimeout(function(){t.K&&t.K.open(i,o)},0)}function Qc(t,e){return function(n){e===t.K?(t.K=l,n||0!==t.va?1===t.va&&t.e("Realtime connection lost."):(t.e("Realtime connection failed."),"s-"===t.O.ea.substr(0,2)&&(ob.removeItem(t.O.sb),t.O.ea=t.O.host)),t.close()):e===t.A?(n=t.A,t.A=l,(t.Jb===n||t.Hb===n)&&t.close()):t.e("closing an old connection")}}function Pc(t,e){return function(n){if(2!=t.va)if(e===t.Hb){var i=Ub("t",n),n=Ub("d",n);if("c"==i){if(i=Ub("t",n),"d"in n)if(n=n.d,"h"===i){var i=n.ts,o=n.v,r=n.h;t.fc=n.s,rb(t.O,r),0==t.va&&(t.K.start(),n=t.K,t.e("Realtime connection established."),t.K=n,t.va=1,t.wb&&(t.wb(i),t.wb=l),"5"!==o&&P("Protocol version mismatch detected"),n=1<t.Tc.hc.length?t.Tc.hc[1]:l)&&(t.A=new n("c:"+t.id+":"+t.Vc++,t.O,t.fc),t.A.open(Pc(t,t.A),Qc(t,t.A)))}else if("n"===i){for(t.e("recvd end transmission on primary"),t.Hb=t.A,n=0;n<t.Xb.length;++n)t.Ub(t.Xb[n]);t.Xb=[],Rc(t)}else"s"===i?(t.e("Connection shutdown command received. Shutting down..."),t.Fc&&(t.Fc(n),t.Fc=l),t.Q=l,t.close()):"r"===i?(t.e("Reset packet received.  New host: "+n),rb(t.O,n),1===t.va?t.close():(Sc(t),Oc(t))):"e"===i?Pb("Server Error: "+n):Pb("Unknown control packet command: "+i)}else"d"==i&&t.Ub(n)}else e===t.A?(i=Ub("t",n),n=Ub("d",n),"c"==i?"t"in n&&(n=n.t,"a"===n?(t.A.start(),t.e("sending client ack on secondary"),t.A.send({t:"c",d:{t:"a",d:{}}}),t.e("Ending transmission on primary"),t.K.send({t:"c",d:{t:"n",d:{}}}),t.Jb=t.A,Rc(t)):"r"===n&&(t.e("Got a reset on secondary, closing it"),t.A.close(),(t.Jb===t.A||t.Hb===t.A)&&t.close())):"d"==i?t.Xb.push(n):g(Error("Unknown protocol layer: "+i))):t.e("message on old connection")}}function Rc(t){t.Jb===t.A&&t.Hb===t.A&&(t.e("cleaning up and promoting a connection: "+t.A.qc),t.K=t.A,t.A=l)}function Sc(t){t.e("Shutting down all connections"),t.K&&(t.K.close(),t.K=l),t.A&&(t.A.close(),t.A=l)}function Tc(){if(kc.call(this,["online"]),this.xb=k,"undefined"!=typeof window&&"undefined"!=typeof window.addEventListener){var t=this;window.addEventListener("online",function(){t.xb||t.Uc("online",k),t.xb=k},o),window.addEventListener("offline",function(){t.xb&&t.Uc("online",o),t.xb=o},o)}}function Vc(t,e,n,i,r,a){this.id=Wc++,this.e=Ob("p:"+this.id+":"),this.Ma=k,this.fa={},this.T=[],this.yb=0,this.vb=[],this.V=o,this.pa=1e3,this.Vb=e||ca,this.Tb=n||ca,this.ub=i||ca,this.Hc=r||ca,this.yc=a||ca,this.O=t,this.Lc=l,this.Fb={},this.Md=0,this.pb=this.Cc=l,Xc(this,0),nc.xc().Ya("visible",this.Hd,this),-1===t.host.indexOf("fblocal")&&Tc.xc().Ya("online",this.Gd,this)}function Zc(t,e,n,i,o){t.e("Listen on "+e+" for "+n);var r={p:e},i=jb(i,function(t){return Ia(t)});"{}"!==n&&(r.q=i),r.h=t.yc(e),t.Da("l",r,function(i){t.e("listen response",i),i=i.s,"ok"!==i&&$c(t,e,n),o&&o(i)})}function ad(t){var e=t.Ga;t.V&&e&&t.Da("auth",{cred:e.vd},function(n){var i=n.s,n=n.d||"error";"ok"!==i&&t.Ga===e&&delete t.Ga,t.ub("ok"===i),e.Zc?"ok"!==i&&e.Nb&&e.Nb(i,n):(e.Zc=k,e.W&&e.W(i,n))})}function bd(t,e,n,i){e=e.toString(),$c(t,e,n)&&t.V&&(t.e("Unlisten on "+e+" for "+n),e={p:e},i=jb(i,function(t){return Ia(t)}),"{}"!==n&&(e.q=i),t.Da("u",e))}function cd(t,e,n,i){t.V?dd(t,"o",e,n,i):t.vb.push({Jc:e,action:"o",data:n,C:i})}function dd(t,e,n,i,o){n={p:n,d:i},t.e("onDisconnect "+e,n),t.Da(e,n,function(t){o&&setTimeout(function(){o(t.s)},0)})}function ed(t,e,n,i,o,r){n={p:n,d:i},u(r)&&(n.h=r),t.T.push({action:e,hd:n,C:o}),t.yb++,e=t.T.length-1,t.V&&fd(t,e)}function fd(t,e){var n=t.T[e].action,i=t.T[e].hd,o=t.T[e].C;t.T[e].Jd=t.V,t.Da(n,i,function(i){t.e(n+" response",i),delete t.T[e],t.yb--,0===t.yb&&(t.T=[]),o&&o(i.s)})}function Xc(t,e){z(!t.ia,"Scheduling a connect when we're already connected/ing?"),t.Sa&&clearTimeout(t.Sa),t.Sa=setTimeout(function(){if(t.Sa=l,t.Ma){t.e("Making a connection attempt"),t.Cc=(new Date).getTime(),t.pb=l;var e=w(t.Ub,t),n=w(t.wb,t),i=w(t.dd,t),r=t.id+":"+Yc++;t.ia=new Nc(r,t.O,e,n,i,function(e){t.Ma=o,g(Error(e))})}},e)}function $c(t,e,n){e=new K(e).toString(),n||(n="{}");var i=t.fa[e][n];return delete t.fa[e][n],i}function gd(){this.o=this.D=l}function hd(t,e,n){if(e.f())t.D=n,t.o=l;else if(t.D!==l)t.D=t.D.xa(e,n);else{t.o==l&&(t.o=new Cc);var i=F(e);t.o.contains(i)||t.o.add(i,new gd),t=t.o.get(i),e=Ka(e),hd(t,e,n)}}function id(t,e){if(e.f())return t.D=l,t.o=l,k;if(t.D!==l){if(t.D.M())return o;var n=t.D;return t.D=l,n.w(function(e,n){hd(t,new K(e),n)}),id(t,e)}return t.o!==l?(n=F(e),e=Ka(e),t.o.contains(n)&&id(t.o.get(n),e)&&t.o.remove(n),t.o.f()?(t.o=l,k):o):k}function jd(t,e,n){t.D!==l?n(e,t.D):t.w(function(t,i){var o=new K(e.toString()+"/"+t);jd(i,o,n)})}function kd(){this.qa=Q}function V(t,e){return t.qa.P(e)}function W(t,e,n){t.qa=t.qa.xa(e,n)}function ld(){this.ra=new kd,this.I=new kd,this.la=new kd,this.Ab=new Na}function md(t,e){for(var n=V(t.ra,e),i=V(t.I,e),r=L(t.Ab,e),a=o,s=r;s!==l;){if(s.k()!==l){a=k;break}s=s.parent()}return a?o:(n=nd(n,i,r),n!==i?(W(t.I,e,n),k):o)}function nd(t,e,n){return n.f()?t:n.k()!==l?e:(t=t||Q,n.w(function(i){var i=i.name(),o=t.L(i),r=e.L(i),a=L(n,i),o=nd(o,r,a);t=t.G(i,o)}),t)}function od(t,e){ib(e,function(e){var n=e.Od,e=L(t.Ab,e.path),i=e.k();z(i!==l,"pendingPut should not be null."),i===n&&M(e,l)})}function pd(){this.Ta=[]}function qd(t,e){if(0!==e.length)for(var n=0;n<e.length;n++)t.Ta.push(e[n])}function rd(t){var e=t.W,n=t.md,i=t.Cb;$b(function(){e(n,i)})}function X(t,e,n,i){this.type=t,this.sa=e,this.aa=n,this.Cb=i}function sd(t){this.J=t,this.ma=[],this.tc=new pd}function td(t,e,n,i,o){t.ma.push({type:e,W:n,cancel:i,S:o});var i=[],r=ud(t.i);t.nb&&r.push(new X("value",t.i));for(var a=0;a<r.length;a++)if(r[a].type===e){var s=new J(t.J.n,t.J.path);r[a].aa&&(s=s.F(r[a].aa)),i.push({W:o?w(n,o):n,md:new T(r[a].sa,s),Cb:r[a].Cb})}qd(t.tc,i)}function vd(t,e){for(var n=[],i=0;i<e.length;i++){var o=e[i],r=o.type,a=new J(t.J.n,t.J.path);for(e[i].aa&&(a=a.F(e[i].aa)),a=new T(e[i].sa,a),"value"!==o.type||a.lb()?"value"!==o.type&&(r+=" "+a.name()):r+="("+a.U()+")",N(t.J.n.u.id+": event:"+t.J.path+":"+t.J.Ka()+":"+r),r=0;r<t.ma.length;r++){var s=t.ma[r];e[i].type===s.type&&n.push({W:s.S?w(s.W,s.S):s.W,md:a,Cb:o.Cb})}}qd(t.tc,n)}function ud(t){var e=[];if(!t.M()){var n=l;t.w(function(t,i){e.push(new X("child_added",i,t,n)),n=t})}return e}function wd(t){t.nb||(t.nb=k,vd(t,[new X("value",t.i)]))}function xd(t,e){sd.call(this,t),this.i=e}function zd(t,e){this.Ob=t,this.Dc=e}function Ad(t,e,n,i,r){var a=t.P(n),s=e.P(n),i=new zd(i,r),r=Bd(i,n,a,s),s=!a.f()&&!s.f()&&a.j()!==s.j();if(r||s)for(a=n,n=r;a.parent()!==l;){var c=t.P(a),r=e.P(a),h=a.parent();if(!i.Ob||L(i.Ob,h).k()){var u=e.P(h),f=[],a=a.Z<a.m.length?a.m[a.m.length-1]:l;c.f()?(c=u.da(a,r),f.push(new X("child_added",r,a,c))):r.f()?f.push(new X("child_removed",c,a)):(c=u.da(a,r),s&&f.push(new X("child_moved",r,a,c)),n&&f.push(new X("child_changed",r,a,c))),i.Dc(h,u,f)}s&&(s=o,n=k),a=h}}function Bd(t,e,n,i){var r,a=[];return n===i?r=o:n.M()&&i.M()?r=n.k()!==i.k():n.M()?(Cd(t,e,Q,i,a),r=k):i.M()?(Cd(t,e,n,Q,a),r=k):r=Cd(t,e,n,i,a),r?t.Dc(e,i,a):n.j()!==i.j()&&t.Dc(e,i,l),r}function Cd(t,e,n,i,r){var a,s,c,h,f=o,p=!t.Ob||!L(t.Ob,e).f(),d=[],b=[],g=[],y=[],v={},m={};for(a=n.Ua(),c=Wa(a),s=i.Ua(),h=Wa(s);c!==l||h!==l;)if(n=c===l?1:h===l?-1:c.key===h.key?0:cc({name:c.key,ha:c.value.j()},{name:h.key,ha:h.value.j()}),0>n?(f=ua(v,c.key),u(f)?(g.push({vc:c,Qc:d[f]}),d[f]=l):(m[c.key]=b.length,b.push(c)),f=k,c=Wa(a)):(n>0?(f=ua(m,h.key),u(f)?(g.push({vc:b[f],Qc:h}),b[f]=l):(v[h.key]=d.length,d.push(h)),f=k):(n=e.F(h.key),(n=Bd(t,n,c.value,h.value))&&(y.push(h),f=k),c.value.j()!==h.value.j()&&(g.push({vc:c,Qc:h}),f=k),c=Wa(a)),h=Wa(s)),!p&&f)return k;for(p=0;p<b.length;p++)(v=b[p])&&(n=e.F(v.key),Bd(t,n,v.value,Q),r.push(new X("child_removed",v.value,v.key)));for(p=0;p<d.length;p++)(v=d[p])&&(n=e.F(v.key),b=i.da(v.key,v.value),Bd(t,n,Q,v.value),r.push(new X("child_added",v.value,v.key,b)));for(p=0;p<g.length;p++)v=g[p].vc,d=g[p].Qc,n=e.F(d.key),b=i.da(d.key,d.value),r.push(new X("child_moved",d.value,d.key,b)),(n=Bd(t,n,v.value,d.value))&&y.push(d);for(p=0;p<y.length;p++)t=y[p],b=i.da(t.key,t.value),r.push(new X("child_changed",t.value,t.key,b));return f}function Dd(){this.R=this.wa=l,this.set={}}function Ed(t){return t.contains("default")}function Fd(t){return t.wa!=l&&Ed(t)}function Gd(t,e){sd.call(this,t),this.i=Q,this.$b(e,ud(e))}function Hd(t,e,n,i){if(t.M())return l;var o=l;return(i?t.uc:t.w).call(t,function(t,i){return Id(e,t,i)&&(o=t,n--,0===n)?k:void 0}),o}function Id(t,e,n){for(var i=0;i<t.length;i++)if(!t[i](e,n.j()))return o;return k}function Jd(t,e){this.u=t,this.g=e,this.Sb=e.qa,this.ka=new Na}function Md(t,e,n,i,r){var a,s=t.get(e);if(a=s){a=o;for(var c=s.ma.length-1;c>=0;c--){var h=s.ma[c];if(!(n&&h.type!==n||i&&h.W!==i||r&&h.S!==r)&&(s.ma.splice(c,1),a=k,n&&i))break}a=a&&!(0<s.ma.length)}return(n=a)&&t.remove(e),n}function Nd(t,e,n,i,r,a){var s=e.path(),s=L(t.ka,s),n=n?n.Ka():l,c=[];if(n&&"default"!==n?Md(e,n,i,r,a)&&c.push(n):ib(e.keys(),function(t){Md(e,t,i,r,a)&&c.push(t)}),e.f()&&M(s,l),n=Kd(s),0<c.length&&!n){for(var h=s,u=s.parent(),n=o;!n&&u;){var f=u.k();if(f){z(!Fd(f));var p=h.name(),d=o;U(f,function(t,e){d=e.zc(p)||d}),d&&(n=k)}h=u,u=u.parent()}if(h=l,!Fd(e)){u=e.wa,e.wa=l;var b=[],g=function(e){var n=e.k();if(n&&Ed(n))b.push(n.path()),n.wa==l&&n.setActive(Ld(t,n));else{if(n){n.wa!=l||n.setActive(Ld(t,n));var i={};U(n,function(t,e){e.i.w(function(t){D(i,t)||(i[t]=k,t=n.path().F(t),b.push(t))})})}e.w(g)}};g(s),h=b,u&&u()}return n?l:h}return l}function Od(t,e,n){Pa(L(t.ka,e),function(t){(t=t.k())&&U(t,function(t,e){wd(e)})},n,k)}function Y(t,e,n){function i(t){for(var e=0;e<n.length;++e)if(n[e].contains(t))return k;return o}var r=t.Sb,a=t.g.qa;t.Sb=a,Ad(r,a,e,t.ka,function(n,r,a){if(e.contains(n)){var s=i(n);s&&Od(t,n,o),t.Zb(n,r,a),s&&Od(t,n,k)}else t.Zb(n,r,a)}),i(e)&&Od(t,e,k),Pd(t,e)}function Pd(t,e){var n=L(t.ka,e);Pa(n,function(t){(t=t.k())&&U(t,function(t,e){e.Db()})},k,k),Qa(n,function(t){(t=t.k())&&U(t,function(t,e){e.Db()})},o)}function Kd(t){return Qa(t,function(t){return t.k()&&Fd(t.k())})}function Ld(t,e){if(t.u){var n,i=t.u,o=e.path(),r=e.toString(),a=e.$a(),s=e.keys(),c=Ed(e),h=t.u,u=function(i){if("ok"!==i){var o="Unknown Error";"too_big"===i?o="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==i&&(o="Client doesn't have permission to access the desired data.");var r=Error(i+": "+o);r.code=i.toUpperCase(),P("on() or once() for "+e.path().toString()+" failed: "+r.toString()),e&&(U(e,function(t,e){for(var n=0;n<e.ma.length;n++){var i=e.ma[n];i.cancel&&(i.S?w(i.cancel,i.S):i.cancel)(r)}}),Nd(t,e))}else n||(c?Od(t,e.path(),k):ib(s,function(t){(t=e.get(t))&&wd(t)}),Pd(t,e.path()))},f=e.toString(),l=e.path().toString();return h.fa[l]=h.fa[l]||{},z(!h.fa[l][f],"listen() called twice for same path/queryId."),h.fa[l][f]={$a:e.$a(),C:u},h.V&&Zc(h,l,f,e.$a(),u),function(){n=k,bd(i,o,r,a)}}return ca}function Qd(t,e,n,i,o){var r=e.path(),e=t.kb(r,e,i,o),a=Q,s=[];return Xb(e,function(e,c){var h=new K(c);3===e||1===e?a=a.G(c,i.P(h)):(2===e&&s.push({path:r.F(c),oa:Q}),s=s.concat(Rd(t,i.P(h),L(n,h),o)))}),[{path:r,oa:a}].concat(s)}function Sd(t,e,n,i){var o;t:{var r=L(t.ka,e);o=r.parent();for(var a=[];o!==l;){var s=o.k();if(s!==l){if(Ed(s)){o=[{path:e,oa:n}];break t}if(s=t.kb(e,s,n,i),r=r.name(),r=ua(s,r),3===r||1===r){o=[{path:e,oa:n}];break t}2===r&&a.push({path:e,oa:Q})}r=o,o=o.parent()}o=a}return 1!=o.length||o[0].oa.f()&&!n.f()?(a=L(t.ka,e),r=a.k(),r!==l?Ed(r)?o.push({path:e,oa:n}):o=o.concat(Qd(t,r,a,n,i)):o=o.concat(Rd(t,n,a,i)),o):o}function Rd(t,e,n,i){var o=n.k();if(o!==l)return Ed(o)?[{path:n.path(),oa:e}]:Qd(t,o,n,e,i);var r=[];return n.w(function(n){var o=e.M()?Q:e.L(n.name()),n=Rd(t,o,n,i);r=r.concat(n)}),r}function Td(t,e){return t&&"object"==typeof t?(z(".sv"in t,"Unexpected leaf node or priority contents"),e[t[".sv"]]):t}function Ud(t,e){var n,i=Td(t.j(),e);if(t.M()){var o=Td(t.k(),e);return o!==t.k()||i!==t.j()?new ac(o,i):t}return n=t,i!==t.j()&&(n=n.Ea(i)),t.w(function(t,i){var o=Ud(i,e);o!==i&&(n=n.G(t,o))}),n}function Vd(t){this.O=t,this.$=wc(t),this.u=new Vc(this.O,w(this.Vb,this),w(this.Tb,this),w(this.ub,this),w(this.Hc,this),w(this.yc,this));var e=w(function(){return new tc(this.$,this.u)},this),t=t.toString();vc[t]||(vc[t]=e()),this.nd=vc[t],this.eb=new Na,this.fb=new kd,this.g=new ld,this.H=new Jd(this.u,this.g.la),this.Ac=new kd,this.Bc=new Jd(l,this.Ac),Wd(this,"connected",o),Wd(this,"authenticated",o),this.Q=new gd,this.sc=0
}function Xd(t){return t=V(t.Ac,new K(".info/serverTimeOffset")).U()||0,(new Date).getTime()+t}function Yd(t){return t=t={timestamp:Xd(t)},t.timestamp=t.timestamp||(new Date).getTime(),t}function Wd(t,e,n){e=new K("/.info/"+e),W(t.Ac,e,S(n)),Y(t.Bc,e,[e])}function be(t,e,n,i){var o=S(n);cd(t.u,e.toString(),o.U(k),function(n){"ok"===n&&hd(t.Q,e,o),ae(i,n)})}function ce(t){rc(t.$,"deprecated_on_disconnect"),t.nd.Pc.deprecated_on_disconnect=k}function ae(t,e,n){t&&$b(function(){if("ok"==e)t(l,n);else{var i=(e||"error").toUpperCase(),o=i;n&&(o+=": "+n),o=Error(o),o.code=i,t(o)}})}function de(t,e){var n=e||t.eb;if(e||ee(t,n),n.k()!==l){var i=fe(t,n);if(z(0<i.length),2!==i[0].status&&4!==i[0].status){for(var o=n.path(),r=0;r<i.length;r++)z(1===i[r].status,"tryToSendTransactionQueue_: items in queue should all be run."),i[r].status=2,i[r].kd++;n=V(t.g.I,o).hash(),W(t.g.I,o,V(t.g.la,o));for(var a=V(t.fb,o).U(k),s=Hb(),c={},h=0;h<i.length;h++)i[h].mc&&(c[i[h].path.toString()]=i[h].path);var u,f=[];for(u in c)f.push(c[u]);for(r=0;r<f.length;r++)M(L(t.g.Ab,f[r]),s);t.u.put(o.toString(),a,function(e){for(t.e("transaction put response",{path:o.toString(),status:e}),r=0;r<f.length;r++){var n=L(t.g.Ab,f[r]),a=n.k();z(a!==l,"sendTransactionQueue_: pendingPut should not be null."),a===s&&(M(n,l),W(t.g.I,f[r],V(t.g.ra,f[r])))}if("ok"===e){for(e=[],r=0;r<i.length;r++)i[r].status=3,i[r].C&&(n=ge(t,i[r].path),e.push(w(i[r].C,l,l,k,n))),i[r].jc();for(ee(t,L(t.eb,o)),de(t),r=0;r<e.length;r++)$b(e[r])}else{if("datastale"===e)for(r=0;r<i.length;r++)i[r].status=4===i[r].status?5:1;else for(P("transaction at "+o+" failed: "+e),r=0;r<i.length;r++)i[r].status=5,i[r].kc=e;e=Zd(t,o),Y(t.H,e,[o])}},n)}}else n.lb()&&n.w(function(e){de(t,e)})}function Zd(t,e){var n=he(t,e),i=n.path(),r=fe(t,n);if(W(t.g.la,i,V(t.g.I,i)),W(t.fb,i,V(t.g.I,i)),0!==r.length){for(var a=n=V(t.g.la,i),s=[],c=0;c<r.length;c++){var h,f=La(i,r[c].path),p=o;if(z(f!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),5===r[c].status)p=k,h=r[c].kc;else if(1===r[c].status)if(25<=r[c].kd)p=k,h="maxretry";else{var d=r[c].update(n.P(f).U());u(d)?(za("transaction failed: Data returned ",d),d=S(d),n=n.xa(f,d),r[c].mc&&(a=a.xa(f,d))):(p=k,h="nodata")}p&&(r[c].status=3,setTimeout(r[c].jc,0),r[c].C&&(p=new J(t,r[c].path),f=new T(n.P(f),p),"nodata"===h?s.push(w(r[c].C,l,l,o,f)):s.push(w(r[c].C,l,Error(h),o,f))))}for(h=V(t.g.I,i).j(),n=n.Ea(h),a=a.Ea(h),W(t.fb,i,n),W(t.g.la,i,a),ee(t,t.eb),c=0;c<s.length;c++)$b(s[c]);de(t)}return i}function he(t,e){for(var n,i=t.eb;(n=F(e))!==l&&i.k()===l;)i=L(i,n),e=Ka(e);return i}function fe(t,e){var n=[];return ie(t,e,n),n.sort(function(t,e){return t.ed-e.ed}),n}function ie(t,e,n){var i=e.k();if(i!==l)for(var o=0;o<i.length;o++)n.push(i[o]);e.w(function(e){ie(t,e,n)})}function ee(t,e){var n=e.k();if(n){for(var i=0,o=0;o<n.length;o++)3!==n[o].status&&(n[i]=n[o],i++);n.length=i,M(e,0<n.length?n:l)}e.w(function(e){ee(t,e)})}function $d(t,e){var n=he(t,e).path(),i=L(t.eb,e);return Qa(i,function(t){je(t)}),je(i),Pa(i,function(t){je(t)}),n}function je(t){var e=t.k();if(e!==l){for(var n=[],i=-1,r=0;r<e.length;r++)4!==e[r].status&&(2===e[r].status?(z(i===r-1,"All SENT items should be at beginning of queue."),i=r,e[r].status=4,e[r].kc="set"):(z(1===e[r].status),e[r].jc(),e[r].C&&n.push(w(e[r].C,l,Error("set"),o,l))));for(-1===i?M(t,l):e.length=i+1,r=0;r<n.length;r++)$b(n[r])}}function ge(t,e){var n=new J(t,e);return new T(V(t.fb,e),n)}function ke(){this.ab={}}function $(t,e,n){this.Eb=t,this.R=e,this.Ca=n}function J(){var t,e,n;if(arguments[0]instanceof Vd)n=arguments[0],t=arguments[1];else{A("new Firebase",1,2,arguments.length);var i=arguments[0];e=t="";var r=k,a="";if(v(i)){var s=i.indexOf("//");if(s>=0)var c=i.substring(0,s-1),i=i.substring(s+2);s=i.indexOf("/"),-1===s&&(s=i.length),t=i.substring(0,s);var i=i.substring(s+1),h=t.split(".");if(3==h.length){if(s=h[2].indexOf(":"),r=s>=0?"https"===c:k,"firebase"===h[1])Qb(t+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead");else for(e=h[0],a="",i=("/"+i).split("/"),c=0;c<i.length;c++)if(0<i[c].length){s=i[c];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch(u){}a+="/"+s}e=e.toLowerCase()}else e=l}r||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&P("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),t=new qb(t,r,e),e=new K(a),r=e.toString(),(i=!v(t.host))||(i=0===t.host.length)||(i=!xa(t.sb))||(i=0!==r.length)&&(r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),i=!(v(r)&&0!==r.length&&!wa.test(r))),i&&g(Error(B("new Firebase",1,o)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')),arguments[1]?arguments[1]instanceof ke?n=arguments[1]:g(Error("Expected a valid Firebase.Context for second argument to new Firebase()")):n=ke.xc(),r=t.toString(),i=ua(n.ab,r),i||(i=new Vd(t),n.ab[r]=i),n=i,t=e}H.call(this,n,t)}function Nb(t,e){z(!e||t===k||t===o,"Can't turn on custom loggers persistently."),t===k?("undefined"!=typeof console&&("function"==typeof console.log?Lb=w(console.log,console):"object"==typeof console.log&&(Lb=function(t){console.log(t)})),e&&ob.setItem("logging_enabled","true")):t?Lb=t:(Lb=l,ob.removeItem("logging_enabled"))}var j=void 0,k=!0,l=null,o=!1,t,ba=this;Math.floor(2147483648*Math.random()).toString(36);var pa={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","":"\\u000b"},qa=/\uffff/.test("ï¿¿")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,sa={},va=/[\[\].#$\/]/,wa=/[\[\].#$]/;H.prototype.Kc=function(){return A("Query.ref",0,0,arguments.length),new J(this.n,this.path)},H.prototype.ref=H.prototype.Kc,H.prototype.Ya=function(t,e){A("Query.on",2,4,arguments.length),Ea("Query.on",t,o),C("Query.on",2,e,o);var n=Ha("Query.on",arguments[2],arguments[3]);return this.n.Mb(this,t,e,n.cancel,n.S),e},H.prototype.on=H.prototype.Ya,H.prototype.tb=function(t,e,n){A("Query.off",0,3,arguments.length),Ea("Query.off",t,k),C("Query.off",2,e,k),ta("Query.off",3,n),this.n.bc(this,t,e,n)},H.prototype.off=H.prototype.tb,H.prototype.Id=function(t,e){function n(s){a&&(a=o,r.tb(t,n),e.call(i.S,s))}A("Query.once",2,4,arguments.length),Ea("Query.once",t,o),C("Query.once",2,e,o);var i=Ha("Query.once",arguments[2],arguments[3]),r=this,a=k;this.Ya(t,n,function(e){r.tb(t,n),i.cancel&&i.cancel.call(i.S,e)})},H.prototype.once=H.prototype.Id,H.prototype.Bd=function(t){return A("Query.limit",1,1,arguments.length),(!ga(t)||Math.floor(t)!==t||0>=t)&&g("Query.limit: First argument must be a positive integer."),new H(this.n,this.path,t,this.ca,this.ua,this.za,this.Ra)},H.prototype.limit=H.prototype.Bd,H.prototype.Rd=function(t,e){return A("Query.startAt",0,2,arguments.length),Da("Query.startAt",1,t,k),Fa("Query.startAt",e),u(t)||(e=t=l),new H(this.n,this.path,this.Ba,t,e,this.za,this.Ra)},H.prototype.startAt=H.prototype.Rd,H.prototype.wd=function(t,e){return A("Query.endAt",0,2,arguments.length),Da("Query.endAt",1,t,k),Fa("Query.endAt",e),new H(this.n,this.path,this.Ba,this.ca,this.ua,t,e)},H.prototype.endAt=H.prototype.wd,H.prototype.Ka=function(){var t=Ja(Ia(this));return"{}"===t?"default":t},t=K.prototype,t.toString=function(){for(var t="",e=this.Z;e<this.m.length;e++)""!==this.m[e]&&(t+="/"+this.m[e]);return t||"/"},t.parent=function(){if(this.Z>=this.m.length)return l;for(var t=[],e=this.Z;e<this.m.length-1;e++)t.push(this.m[e]);return new K(t,0)},t.F=function(t){for(var e=[],n=this.Z;n<this.m.length;n++)e.push(this.m[n]);if(t instanceof K)for(n=t.Z;n<t.m.length;n++)e.push(t.m[n]);else for(t=t.split("/"),n=0;n<t.length;n++)0<t[n].length&&e.push(t[n]);return new K(e,0)},t.f=function(){return this.Z>=this.m.length},t.contains=function(t){var e=0;if(this.m.length>t.m.length)return o;for(;e<this.m.length;){if(this.m[e]!==t.m[e])return o;++e}return k},t=Na.prototype,t.k=function(){return this.z.value},t.lb=function(){return 0<this.z.oc},t.f=function(){return this.k()===l&&!this.lb()},t.w=function(t){for(var e in this.z.children)t(new Na(e,this,this.z.children[e]))},t.path=function(){return new K(this.zb===l?this.Ca:this.zb.path()+"/"+this.Ca)},t.name=aa("Ca"),t.parent=aa("zb"),t=Ra.prototype,t.na=function(t,e){return new Ra(this.Oa,this.ba.na(t,e,this.Oa).copy(l,l,o,l,l))},t.remove=function(t){return new Ra(this.Oa,this.ba.remove(t,this.Oa).copy(l,l,o,l,l))},t.get=function(t){for(var e,n=this.ba;!n.f();){if(e=this.Oa(t,n.key),0===e)return n.value;0>e?n=n.left:e>0&&(n=n.right)}return l},t.f=function(){return this.ba.f()},t.count=function(){return this.ba.count()},t.rb=function(){return this.ba.rb()},t.Wa=function(){return this.ba.Wa()},t.Aa=function(t){return this.ba.Aa(t)},t.La=function(t){return this.ba.La(t)},t.Ua=function(t){return new Va(this.ba,t)},t=Xa.prototype,t.copy=function(t,e,n,i,o){return new Xa(t!=l?t:this.key,e!=l?e:this.value,n!=l?n:this.color,i!=l?i:this.left,o!=l?o:this.right)},t.count=function(){return this.left.count()+1+this.right.count()},t.f=r(o),t.Aa=function(t){return this.left.Aa(t)||t(this.key,this.value)||this.right.Aa(t)},t.La=function(t){return this.right.La(t)||t(this.key,this.value)||this.left.La(t)},t.rb=function(){return Ya(this).key},t.Wa=function(){return this.right.f()?this.key:this.right.Wa()},t.na=function(t,e,n){var i,o;return o=this,i=n(t,o.key),o=0>i?o.copy(l,l,l,o.left.na(t,e,n),l):0===i?o.copy(l,e,l,l,l):o.copy(l,l,l,l,o.right.na(t,e,n)),Za(o)},t.remove=function(t,e){var n,i;if(n=this,0>e(t,n.key))!n.left.f()&&!n.left.N()&&!n.left.left.N()&&(n=cb(n)),n=n.copy(l,l,l,n.left.remove(t,e),l);else{if(n.left.N()&&(n=db(n)),!n.right.f()&&!n.right.N()&&!n.right.left.N()&&(n=eb(n),n.left.left.N()&&(n=db(n),n=eb(n))),0===e(t,n.key)){if(n.right.f())return Ta;i=Ya(n.right),n=n.copy(i.key,i.value,l,l,bb(n.right))}n=n.copy(l,l,l,l,n.right.remove(t,e))}return Za(n)},t.N=aa("color"),t=gb.prototype,t.copy=function(){return this},t.na=function(t,e){return new Xa(t,e,j,j,j)},t.remove=function(){return this},t.count=r(0),t.f=r(k),t.Aa=r(o),t.La=r(o),t.rb=r(l),t.Wa=r(l),t.N=r(o);var Ta=new gb,hb=Array.prototype,ib=hb.forEach?function(t,e,n){hb.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,o=v(t)?t.split(""):t,r=0;i>r;r++)r in o&&e.call(n,o[r],r,t)},jb=hb.map?function(t,e,n){return hb.map.call(t,e,n)}:function(t,e,n){for(var i=t.length,o=Array(i),r=v(t)?t.split(""):t,a=0;i>a;a++)a in r&&(o[a]=e.call(n,r[a],a,t));return o};ka(lb,kb),lb.prototype.reset=function(){this.B[0]=1732584193,this.B[1]=4023233417,this.B[2]=2562383102,this.B[3]=271733878,this.B[4]=3285377520,this.Sc=this.mb=0},lb.prototype.update=function(t,e){u(e)||(e=t.length);var n=this.nc,i=this.mb,o=0;if(v(t))for(;e>o;)n[i++]=t.charCodeAt(o++),64==i&&(mb(this,n),i=0);else for(;e>o;)n[i++]=t[o++],64==i&&(mb(this,n),i=0);this.mb=i,this.Sc+=e},nb.prototype.setItem=function(t,e){D(this.Na,t)||(this.length+=1),this.Na[t]=e},nb.prototype.getItem=function(t){return D(this.Na,t)?this.Na[t]:l},nb.prototype.removeItem=function(t){D(this.Na,t)&&(this.length-=1,delete this.Na[t])};var ob=l;try{"undefined"!=typeof sessionStorage&&(sessionStorage.setItem("firebase-sentinel","cache"),sessionStorage.removeItem("firebase-sentinel"),ob=sessionStorage)}catch(pb){}ob=ob||new nb,qb.prototype.toString=function(){return(this.dc?"https://":"http://")+this.host};var sb,tb,ub,vb;vb=ub=tb=sb=o;var xb;if(xb=wb()){var yb=ba.navigator;sb=0==xb.indexOf("Opera"),tb=!sb&&-1!=xb.indexOf("MSIE"),ub=!sb&&-1!=xb.indexOf("WebKit"),vb=!sb&&!ub&&"Gecko"==yb.product}var zb=tb,Ab=vb,Bb=ub,Cb;if(sb&&ba.opera){var Db=ba.opera.version;"function"==typeof Db&&Db()}else Ab?Cb=/rv\:([^\);]+)(\)|;)/:zb?Cb=/MSIE\s+([^\);]+)(\)|;)/:Bb&&(Cb=/WebKit\/(\S+)/),Cb&&Cb.exec(wb());var Eb=l,Fb=l,Hb,Ib=1;Hb=function(){return Ib++};var Lb=l,Mb=k,Zb=/^-?\d{1,10}$/;t=ac.prototype,t.M=r(k),t.j=aa("Za"),t.Ea=function(t){return new ac(this.D,t)},t.L=function(){return Q},t.P=function(t){return F(t)===l?this:Q},t.da=r(l),t.G=function(t,e){return(new R).G(t,e).Ea(this.Za)},t.xa=function(t,e){var n=F(t);return n===l?e:this.G(n,Q.xa(Ka(t),e))},t.f=r(o),t.Rb=r(0),t.U=function(t){return t&&this.j()!==l?{".value":this.k(),".priority":this.j()}:this.k()},t.hash=function(){var t="";this.j()!==l&&(t+="priority:"+bc(this.j())+":");var e=typeof this.D,t=t+(e+":"),t="number"===e?t+Yb(this.D):t+this.D;return Jb(t)},t.k=aa("D"),t.toString=function(){return"string"==typeof this.D?'"'+this.D+'"':this.D},t=R.prototype,t.M=r(o),t.j=aa("Za"),t.Ea=function(t){return new R(this.o,t)},t.G=function(t,e){var n=this.o.remove(t);return e&&e.f()&&(e=l),e!==l&&(n=n.na(t,e)),e&&e.j()!==l?new fc(n,l,this.Za):new R(n,this.Za)},t.xa=function(t,e){var n=F(t);if(n===l)return e;var i=this.L(n).xa(Ka(t),e);return this.G(n,i)},t.f=function(){return this.o.f()},t.Rb=function(){return this.o.count()};var gc=/^\d+$/;t=R.prototype,t.U=function(t){if(this.f())return l;var e={},n=0,i=0,r=k;if(this.w(function(a,s){e[a]=s.U(t),n++,r&&gc.test(a)?i=Math.max(i,Number(a)):r=o}),!t&&r&&2*n>i){var a,s=[];for(a in e)s[a]=e[a];return s}return t&&this.j()!==l&&(e[".priority"]=this.j()),e},t.hash=function(){var t="";return this.j()!==l&&(t+="priority:"+bc(this.j())+":"),this.w(function(e,n){var i=n.hash();""!==i&&(t+=":"+e+":"+i)}),""===t?"":Jb(t)},t.L=function(t){return t=this.o.get(t),t===l?Q:t},t.P=function(t){var e=F(t);return e===l?this:this.L(e).P(Ka(t))},t.da=function(t){return Ua(this.o,t)},t.$c=function(){return this.o.rb()},t.ad=function(){return this.o.Wa()},t.w=function(t){return this.o.Aa(t)},t.uc=function(t){return this.o.La(t)},t.Ua=function(){return this.o.Ua()},t.toString=function(){var t="{",e=k;return this.w(function(n,i){e?e=o:t+=", ",t+='"'+n+'" : '+i.toString()}),t+="}"};var Q=new R;ka(fc,R),t=fc.prototype,t.G=function(t,e){var n=this.L(t),i=this.o,o=this.ta;return n!==l&&(i=i.remove(t),o=o.remove({name:t,ha:n.j()})),e&&e.f()&&(e=l),e!==l&&(i=i.na(t,e),o=o.na({name:t,ha:e.j()},e)),new fc(i,o,this.j())},t.da=function(t,e){var n=Ua(this.ta,{name:t,ha:e.j()});return n?n.name:l},t.w=function(t){return this.ta.Aa(function(e,n){return t(e.name,n)})},t.uc=function(t){return this.ta.La(function(e,n){return t(e.name,n)})},t.Ua=function(){return this.ta.Ua(function(t,e){return{key:t.name,value:e}})},t.$c=function(){return this.ta.f()?l:this.ta.rb().name},t.ad=function(){return this.ta.f()?l:this.ta.Wa().name};var ic=Math.log(2);T.prototype.U=function(){return A("Firebase.DataSnapshot.val",0,0,arguments.length),this.z.U()},T.prototype.val=T.prototype.U,T.prototype.xd=function(){return A("Firebase.DataSnapshot.exportVal",0,0,arguments.length),this.z.U(k)},T.prototype.exportVal=T.prototype.xd,T.prototype.F=function(t){A("Firebase.DataSnapshot.child",0,1,arguments.length),ga(t)&&(t=String(t)),Ga("Firebase.DataSnapshot.child",t);var e=new K(t),n=this.ac.F(e);return new T(this.z.P(e),n)},T.prototype.child=T.prototype.F,T.prototype.zc=function(t){A("Firebase.DataSnapshot.hasChild",1,1,arguments.length),Ga("Firebase.DataSnapshot.hasChild",t);var e=new K(t);return!this.z.P(e).f()},T.prototype.hasChild=T.prototype.zc,T.prototype.j=function(){return A("Firebase.DataSnapshot.getPriority",0,0,arguments.length),this.z.j()},T.prototype.getPriority=T.prototype.j,T.prototype.forEach=function(t){if(A("Firebase.DataSnapshot.forEach",1,1,arguments.length),C("Firebase.DataSnapshot.forEach",1,t,o),this.z.M())return o;var e=this;return this.z.w(function(n,i){return t(new T(i,e.ac.F(n)))})},T.prototype.forEach=T.prototype.forEach,T.prototype.lb=function(){return A("Firebase.DataSnapshot.hasChildren",0,0,arguments.length),this.z.M()?o:!this.z.f()},T.prototype.hasChildren=T.prototype.lb,T.prototype.name=function(){return A("Firebase.DataSnapshot.name",0,0,arguments.length),this.ac.name()},T.prototype.name=T.prototype.name,T.prototype.Rb=function(){return A("Firebase.DataSnapshot.numChildren",0,0,arguments.length),this.z.Rb()},T.prototype.numChildren=T.prototype.Rb,T.prototype.Kc=function(){return A("Firebase.DataSnapshot.ref",0,0,arguments.length),this.ac},T.prototype.ref=T.prototype.Kc,kc.prototype.wc=function(){},kc.prototype.Uc=function(t){for(var e=this.qb[t]||[],n=0;n<e.length;n++)e[n].W.apply(e[n].S,Array.prototype.slice.call(arguments,1))},kc.prototype.Ya=function(t,e,n){mc(this,t),this.qb[t]=this.qb[t]||[],this.qb[t].push({W:e,S:n}),(t=this.wc(t))&&e.apply(n,t)},kc.prototype.tb=function(t,e,n){mc(this,t);for(var t=this.qb[t]||[],i=0;i<t.length;i++)if(t[i].W===e&&(!n||n===t[i].S)){t.splice(i,1);break}},ka(nc,kc),da(nc),nc.prototype.wc=function(t){return z("visible"===t),[this.gb]},qc.prototype.get=function(){return pc(this.ib)},sc.prototype.get=function(){var t=this.ud.get(),e=pc(t);if(this.Pb)for(var n in this.Pb)e[n]-=this.Pb[n];return this.Pb=t,e},tc.prototype.gd=function(){var t,e=this.gc.get(),n={},i=o;for(t in e)0<e[t]&&D(this.Pc,t)&&(n[t]=e[t],i=k);i&&(e=this.u,e.V&&(n={c:n},e.e("reportStats",n),e.Da("s",n))),setTimeout(w(this.gd,this),6e5*Math.random())};var uc={},vc={},xc=l;"undefined"!=typeof MozWebSocket?xc=MozWebSocket:"undefined"!=typeof WebSocket&&(xc=WebSocket);var zc;yc.prototype.open=function(t,e){this.ga=e,this.Fd=t,this.e("websocket connecting to "+this.Pa),this.Y=new xc(this.Pa),this.jb=o;var n=this;this.Y.onopen=function(){n.e("Websocket connected."),n.jb=k},this.Y.onclose=function(){n.e("Websocket connection was disconnected."),n.Y=l,n.Ja()},this.Y.onmessage=function(t){if(n.Y!==l)if(t=t.data,rc(n.$,"bytes_received",t.length),Ac(n),n.frames!==l)Bc(n,t);else{t:{if(z(n.frames===l,"We already have a frame buffer"),4>=t.length){var e=Number(t);if(!isNaN(e)){n.Rc=e,n.frames=[],t=l;break t}}n.Rc=1,n.frames=[]}t!==l&&Bc(n,t)}},this.Y.onerror=function(t){n.e("WebSocket error.  Closing connection."),t.data&&n.e(t.data),n.Ja()}},yc.prototype.start=function(){},yc.isAvailable=function(){return!("undefined"!=typeof navigator&&"Opera"===navigator.appName||xc===l||zc)},yc.prototype.send=function(t){Ac(this),t=y(t),rc(this.$,"bytes_sent",t.length),t=Vb(t,16384),1<t.length&&this.Y.send(String(t.length));for(var e=0;e<t.length;e++)this.Y.send(t[e])},yc.prototype.Ib=function(){this.Ha=k,this.ob&&(clearInterval(this.ob),this.ob=l),this.Y&&(this.Y.close(),this.Y=l)},yc.prototype.Ja=function(){this.Ha||(this.e("WebSocket is closing itself"),this.Ib(),this.ga&&(this.ga(this.jb),this.ga=l))},yc.prototype.close=function(){this.Ha||(this.e("WebSocket is being closed"),this.Ib())},t=Cc.prototype,t.add=function(t,e){this.set[t]=e!==l?e:k},t.contains=function(t){return D(this.set,t)},t.get=function(t){return this.contains(t)?this.set[t]:j},t.remove=function(t){delete this.set[t]},t.f=function(){var t;t:{for(t in this.set){t=o;break t}t=k}return t},t.count=function(){var t,e=0;for(t in this.set)e++;return e},t.keys=function(){var t,e=[];for(t in this.set)D(this.set,t)&&e.push(t);return e};var Dc="pLPCommand",Ec="pRTLPCB",Gc,Hc;Fc.prototype.open=function(t,e){function n(){if(!i.Ha){i.ja=new Ic(function(t,e,n){if(rc(i.$,"bytes_received",y(arguments).length),i.ja)if(i.Fa&&(clearTimeout(i.Fa),i.Fa=l),i.jb=k,"start"==t)i.id=e,i.fd=n;else if("close"===t)if(e){i.ja.ec=o;var r=i.cd;r.pc=e,r.Ia=function(){i.Ja()},r.pc<r.Qa&&(r.Ia(),r.Ia=l)}else i.Ja();else g(Error("Unrecognized command received: "+t))},function(t,e){rc(i.$,"bytes_received",y(arguments).length);var n=i.cd;for(n.Yb[t]=e;n.Yb[n.Qa];){var o=n.Yb[n.Qa];delete n.Yb[n.Qa];for(var r=0;r<o.length;++r)if(o[r]){var a=n;$b(function(){a.Gc(o[r])})}if(n.Qa===n.pc){n.Ia&&(clearTimeout(n.Ia),n.Ia(),n.Ia=l);break}n.Qa++}},function(){i.Ja()},i.Lb);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),i.ja.ic&&(t.cb=i.ja.ic),t.v="5",i.fc&&(t.s=i.fc),t=i.Lb(t),i.e("Connecting via long-poll to "+t),Jc(i.ja,t,function(){})}}this.Wc=0,this.Q=e,this.cd=new oc(t),this.Ha=o;var i=this;if(this.Fa=setTimeout(function(){i.e("Timed out trying to connect."),i.Ja(),i.Fa=l},3e4),"complete"===document.readyState)n();else{var r=o,a=function(){document.body?r||(r=k,n()):setTimeout(a,10)};document.addEventListener?(document.addEventListener("DOMContentLoaded",a,o),window.addEventListener("load",a,o)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&a()},o),window.attachEvent("onload",a,o))}},Fc.prototype.start=function(){var t=this.ja,e=this.fd;for(t.Dd=this.id,t.Ed=e,t.lc=k;Kc(t););t=this.id,e=this.fd,this.Xa=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,t=this.Lb(n),this.Xa.src=t,this.Xa.style.display="none",document.body.appendChild(this.Xa)},Fc.isAvailable=function(){return!(Hc||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.Td||!Gc&&!k)},Fc.prototype.Ib=function(){this.Ha=k,this.ja&&(this.ja.close(),this.ja=l),this.Xa&&(document.body.removeChild(this.Xa),this.Xa=l),this.Fa&&(clearTimeout(this.Fa),this.Fa=l)},Fc.prototype.Ja=function(){this.Ha||(this.e("Longpoll is closing itself"),this.Ib(),this.Q&&(this.Q(this.jb),this.Q=l))},Fc.prototype.close=function(){this.Ha||(this.e("Longpoll is being closed."),this.Ib())},Fc.prototype.send=function(t){t=y(t),rc(this.$,"bytes_sent",t.length);for(var t=ra(t),t=Gb(t,k),t=Vb(t,1840),e=0;e<t.length;e++){var n=this.ja;n.Bb.push({Nd:this.Wc,Sd:t.length,Yc:t[e]}),n.lc&&Kc(n),this.Wc++}},Ic.prototype.close=function(){if(this.lc=o,this.X){this.X.ya.body.innerHTML="";var t=this;setTimeout(function(){t.X!==l&&(document.body.removeChild(t.X),t.X=l)},0)}var e=this.ga;e&&(this.ga=l,e())};var Mc=[Fc,{isAvailable:r(o)},yc];Nc.prototype.ld=function(t){t={t:"d",d:t},1!==this.va&&g("Connection is not connected"),this.Jb.send(t)},Nc.prototype.Ub=function(t){this.Gc(t)},Nc.prototype.close=function(){2!==this.va&&(this.e("Closing realtime connection."),this.va=2,Sc(this),this.Q&&(this.Q(),this.Q=l))},ka(Tc,kc),da(Tc),Tc.prototype.wc=function(t){return z("online"===t),[this.xb]};var Wc=0,Yc=0;t=Vc.prototype,t.Da=function(t,e,n){var i=++this.Md,t={r:i,a:t,b:e};this.e(y(t)),z(this.V,"sendRequest_ call when we're not connected not allowed."),this.ia.ld(t),n&&(this.Fb[i]=n)},t.hb=function(t,e,n){this.Ga={vd:t,Zc:o,W:e,Nb:n},this.e("Authenticating using credential: "+this.Ga),ad(this)},t.Kb=function(){delete this.Ga,this.ub(o),this.V&&this.Da("unauth",{})},t.Ec=function(t,e){this.V?dd(this,"oc",t,l,e):this.vb.push({Jc:t,action:"oc",data:l,C:e})},t.put=function(t,e,n,i){ed(this,"p",t,e,n,i)},t.Ub=function(t){if("r"in t){this.e("from server: "+y(t));var e=t.r,n=this.Fb[e];n&&(delete this.Fb[e],n(t.b))}else"error"in t&&g("A server-side error has occurred: "+t.error),"a"in t&&(e=t.a,t=t.b,this.e("handleServerMessage",e,t),"d"===e?this.Vb(t.p,t.d):"m"===e?this.Vb(t.p,t.d,k):"c"===e?(e=t.p,t=(t=t.q)?jb(t,function(t){return Ja(t)}).join("$"):"{}",(t=$c(this,e,t))&&t.C&&t.C("permission_denied")):"ac"===e?(e=t.s,t=t.d,n=this.Ga,delete this.Ga,n&&n.Nb&&n.Nb(e,t),this.ub(o)):"sd"===e?this.Lc?this.Lc(t):"msg"in t&&"undefined"!=typeof console&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: ")):Pb("Unrecognized action received from server: "+y(e)+"\nAre you using the latest client?"))},t.wb=function(t){this.e("connection ready"),this.V=k,this.pb=(new Date).getTime(),this.Hc({serverTimeOffset:t-(new Date).getTime()}),ad(this);for(var e in this.fa)for(var n in this.fa[e])t=this.fa[e][n],Zc(this,e,n,t.$a,t.C);for(e=0;e<this.T.length;e++)this.T[e]&&fd(this,e);for(;this.vb.length;)e=this.vb.shift(),dd(this,e.action,e.Jc,e.data,e.C);this.Tb(k)},t.Hd=function(t){t&&!this.gb&&3e5===this.pa&&(this.e("Window became visible.  Reducing delay."),this.pa=1e3,this.ia||Xc(this,0)),this.gb=t},t.Gd=function(t){t?(this.e("Browser went online.  Reconnecting."),this.pa=1e3,this.Ma=k,this.ia||Xc(this,0)):(this.e("Browser went offline.  Killing connection; don't reconnect."),this.Ma=o,this.ia&&this.ia.close())},t.dd=function(){this.e("data client disconnected"),this.V=o,this.ia=l;for(var t=0;t<this.T.length;t++){var e=this.T[t];e&&"h"in e.hd&&e.Jd&&(e.C&&e.C("disconnect"),delete this.T[t],this.yb--)}if(0===this.yb&&(this.T=[]),this.Ma)this.gb?this.pb&&(3e4<(new Date).getTime()-this.pb&&(this.pa=1e3),this.pb=l):(this.e("Window isn't visible.  Delaying reconnect."),this.pa=3e5,this.Cc=(new Date).getTime()),t=Math.max(0,this.pa-((new Date).getTime()-this.Cc)),t*=Math.random(),this.e("Trying to reconnect in "+t+"ms"),Xc(this,t),this.pa=Math.min(3e5,1.3*this.pa);else for(var n in this.Fb)delete this.Fb[n];this.Tb(o)},t.Va=function(){this.Ma=o,this.ia?this.ia.close():(this.Sa&&(clearTimeout(this.Sa),this.Sa=l),this.dd())},t.Gb=function(){this.Ma=k,this.pa=1e3,Xc(this,0)},gd.prototype.w=function(t){this.o!==l&&U(this.o,function(e,n){t(e,n)})},kd.prototype.toString=function(){return this.qa.toString()},ld.prototype.set=function(t,e){var n=this,i=[];return ib(e,function(t){var e=t.path,t=t.oa,o=Hb();M(L(n.Ab,e),o),W(n.I,e,t),i.push({path:e,Od:o})}),i},pd.prototype.Db=function(){for(var t=0;t<this.Ta.length;t++)if(this.Ta[t]){var e=this.Ta[t];this.Ta[t]=l,rd(e)}this.Ta=[]},sd.prototype.Zb=function(t,e){e=this.$b(t,e),e!=l&&vd(this,e)},sd.prototype.Db=function(){this.tc.Db()},ka(xd,sd),xd.prototype.$b=function(t,e){return this.i=t,this.nb&&e!=l&&e.push(new X("value",this.i)),e},xd.prototype.kb=function(){return{}},ka(Dd,Cc),t=Dd.prototype,t.setActive=function(t){this.wa=t},t.defaultView=function(){return Ed(this)?this.get("default"):l},t.path=aa("R"),t.toString=function(){return jb(this.keys(),function(t){return"default"===t?"{}":t}).join("$")},t.$a=function(){var t=[];return U(this,function(e,n){t.push(n.J)}),t},ka(Gd,sd),Gd.prototype.$b=function(t,e){if(e===l)return e;var n=[],i=this.J;u(i.ca)&&(u(i.ua)&&i.ua!=l?n.push(function(t,e){var n=Rb(e,i.ca);return n>0||0===n&&0<=Sb(t,i.ua)}):n.push(function(t,e){return 0<=Rb(e,i.ca)})),u(i.za)&&(u(i.Ra)?n.push(function(t,e){var n=Rb(e,i.za);return 0>n||0===n&&0>=Sb(t,i.Ra)}):n.push(function(t,e){return 0>=Rb(e,i.za)}));var r=l,a=l;if(u(this.J.Ba))if(u(this.J.ca)){if(r=Hd(t,n,this.J.Ba,o)){var s=t.L(r).j();n.push(function(t,e){var n=Rb(e,s);return 0>n||0===n&&0>=Sb(t,r)})}}else if(a=Hd(t,n,this.J.Ba,k)){var c=t.L(a).j();n.push(function(t,e){var n=Rb(e,c);return n>0||0===n&&0<=Sb(t,a)})}for(var h=[],f=[],p=[],d=[],b=0;b<e.length;b++){var g=e[b].aa,y=e[b].sa;switch(e[b].type){case"child_added":Id(n,g,y)&&(this.i=this.i.G(g,y),f.push(e[b]));break;case"child_removed":this.i.L(g).f()||(this.i=this.i.G(g,l),h.push(e[b]));break;case"child_changed":!this.i.L(g).f()&&Id(n,g,y)&&(this.i=this.i.G(g,y),d.push(e[b]));break;case"child_moved":var v=!this.i.L(g).f(),m=Id(n,g,y);v?m?(this.i=this.i.G(g,y),p.push(e[b])):(h.push(new X("child_removed",this.i.L(g),g)),this.i=this.i.G(g,l)):m&&(this.i=this.i.G(g,y),f.push(e[b]))}}var w=r||a;if(w){var F=(b=a!==l)?this.i.$c():this.i.ad(),S=o,A=o,E=this;(b?t.uc:t.w).call(t,function(t,e){return!A&&F===l&&(A=k),A&&S?k:(S?(h.push(new X("child_removed",E.i.L(t),t)),E.i=E.i.G(t,l)):A&&(f.push(new X("child_added",e,t)),E.i=E.i.G(t,e)),F===t&&(A=k),t===w&&(S=k),void 0)})}for(b=0;b<f.length;b++)n=f[b],g=this.i.da(n.aa,n.sa),h.push(new X("child_added",n.sa,n.aa,g));for(b=0;b<p.length;b++)n=p[b],g=this.i.da(n.aa,n.sa),h.push(new X("child_moved",n.sa,n.aa,g));for(b=0;b<d.length;b++)n=d[b],g=this.i.da(n.aa,n.sa),h.push(new X("child_changed",n.sa,n.aa,g));return this.nb&&0<h.length&&h.push(new X("value",this.i)),h},Gd.prototype.zc=function(t){return this.i.L(t)!==Q},Gd.prototype.kb=function(t,e,n){var i={};this.i.M()||this.i.w(function(t){i[t]=3});var o=this.i,n=V(n,new K("")),r=new Na;M(L(r,this.J.path),k);var e=Q.xa(t,e),a=this;return Ad(n,e,t,r,function(t,e,n){n!==l&&t.toString()===a.J.path.toString()&&a.$b(e,n)}),this.i.M()?Xb(i,function(t,e){i[e]=2}):(this.i.w(function(t){D(i,t)||(i[t]=1)}),Xb(i,function(t,e){a.i.L(e).f()&&(i[e]=2)})),this.i=o,i},Jd.prototype.Mb=function(t,e,n,i,o){var r=t.path,a=L(this.ka,r),s=a.k();s===l?(s=new Dd,M(a,s)):z(!s.f(),"We shouldn't be storing empty QueryMaps");var c=t.Ka();if(s.contains(c))t=s.get(c),td(t,e,n,i,o);else{var h=this.g.qa.P(r),h=t="default"===t.Ka()?new xd(t,h):new Gd(t,h);if(Fd(s)||Kd(a))s.add(c,h),s.R||(s.R=h.J.path);else{var u,f;s.f()||(u=s.toString(),f=s.$a()),s.add(c,h),s.R||(s.R=h.J.path),s.setActive(Ld(this,s)),u&&f&&bd(this.u,s.path(),u,f)}Fd(s)&&Pa(a,function(t){(t=t.k())&&(t.wa&&t.wa(),t.wa=l)}),td(t,e,n,i,o),(e=(e=Qa(L(this.ka,r),function(t){var e;return(e=t.k())&&(e=t.k().defaultView())&&(e=t.k().defaultView().nb),e?k:void 0},k))||this.u===l&&!V(this.g,r).f())&&wd(t)}t.Db()},Jd.prototype.bc=function(t,e,n,i){var o=L(this.ka,t.path).k();return o===l?l:Nd(this,o,t,e,n,i)},Jd.prototype.Zb=function(t,e,n){t=L(this.ka,t).k(),t!==l&&U(t,function(t,i){i.Zb(e,n)})},Jd.prototype.kb=function(t,e,n,i){var o={};return U(e,function(e,r){var a=r.kb(t,n,i);Xb(a,function(t,e){o[e]=3===t?3:(ua(o,e)||t)===t?t:3})}),n.M()||n.w(function(t){D(o,t)||(o[t]=4)}),o},t=Vd.prototype,t.toString=function(){return(this.O.dc?"https://":"http://")+this.O.host},t.name=function(){return this.O.sb},t.Vb=function(t,e,n){this.sc++;var i=[];if(9<=t.length&&t.lastIndexOf(".priority")===t.length-9)t=new K(t.substring(0,t.length-9)),n=V(this.g.ra,t).Ea(e),i.push(t);else if(n){var r,t=new K(t),n=V(this.g.ra,t);for(r in e){var a=new K(r),n=n.xa(a,S(e[r]));i.push(t.F(r))}}else t=new K(t),n=S(e),i.push(t);for(e=Sd(this.H,t,n,this.g.I),r=o,n=0;n<e.length;++n){var a=e[n],s=this.g,c=a.path;W(s.ra,c,a.oa),r=md(s,c)||r}r&&(t=Zd(this,t)),Y(this.H,t,i)},t.Tb=function(t){if(Wd(this,"connected",t),t===o){this.e("onDisconnectEvents");var e=this,n=[],i=Yd(this),t=jd,r=new gd;jd(this.Q,new K(""),function(t,e){hd(r,t,Ud(e,i))}),t(r,new K(""),function(t,i){var o=Sd(e.H,t,i,e.g.I);n.push.apply(n,e.g.set(t,o)),o=$d(e,t),Zd(e,o),Y(e.H,o,[t])}),od(this.g,n),this.Q=new gd}},t.Hc=function(t){var e=this;Wb(t,function(t,n){Wd(e,n,t)})},t.yc=function(t){return t=new K(t),V(this.g.ra,t).hash()},t.ub=function(t){Wd(this,"authenticated",t)},t.hb=function(t,e,n){"firebaseio-demo.com"===this.O.domain&&P("FirebaseRef.auth() not supported on demo (*.firebaseio-demo.com) Firebases. Please use on production (*.firebaseio.com) Firebases only."),this.u.hb(t,function(t,n){ae(e,t,n)},function(t,e){if(P("auth() was canceled: "+e),n){var i=Error(e);i.code=t.toUpperCase(),n(i)}})},t.Kb=function(){this.u.Kb()},t.bb=function(t,e,n,i){this.e("set",{path:t.toString(),value:e,ha:n});var o=Yd(this),e=S(e,n),o=Ud(e,o),o=Sd(this.H,t,o,this.g.I),r=this.g.set(t,o),a=this;this.u.put(t.toString(),e.U(k),function(e){"ok"!==e&&P("set at "+t+" failed: "+e),od(a.g,r),md(a.g,t);var n=Zd(a,t);Y(a.H,n,[]),ae(i,e)}),o=$d(this,t),Zd(this,o),Y(this.H,o,[t])},t.update=function(t,e,n){this.e("update",{path:t.toString(),value:e});var i,r=V(this.g.la,t),a=k,s=[],c=Yd(this),h=[];for(i in e){var a=o,u=S(e[i]),u=Ud(u,c),r=r.G(i,u),f=t.F(i);s.push(f),u=Sd(this.H,f,u,this.g.I),h=h.concat(this.g.set(t,u))}if(a)N("update() called with empty data.  Don't do anything."),ae(n,"ok");else{var l=this;ed(this.u,"m",t.toString(),e,function(e){z("ok"===e||"permission_denied"===e,"merge at "+t+" failed."),"ok"!==e&&P("update at "+t+" failed: "+e),od(l.g,h),md(l.g,t);var i=Zd(l,t);Y(l.H,i,[]),ae(n,e)},j),e=$d(this,t),Zd(this,e),Y(l.H,e,s)}},t.Mc=function(t,e,n){this.e("setPriority",{path:t.toString(),ha:e});var i=Yd(this),i=Td(e,i),i=V(this.g.I,t).Ea(i),i=Sd(this.H,t,i,this.g.I),o=this.g.set(t,i),r=this;this.u.put(t.toString()+"/.priority",e,function(t){od(r.g,o),ae(n,t)}),t=Zd(this,t),Y(r.H,t,[])},t.Ec=function(t,e){var n=this;this.u.Ec(t.toString(),function(i){"ok"===i&&id(n.Q,t),ae(e,i)})},t.Mb=function(t,e,n,i,o){".info"===F(t.path)?this.Bc.Mb(t,e,n,i,o):this.H.Mb(t,e,n,i,o)},t.bc=function(t,e,n,i){if(".info"===F(t.path))this.Bc.bc(t,e,n,i);else{if(e=this.H.bc(t,e,n,i),n=e!==l){for(var n=this.g,i=t.path,o=[],r=0;r<e.length;++r)o[r]=V(n.ra,e[r]);for(W(n.ra,i,Q),r=0;r<e.length;++r)W(n.ra,e[r],o[r]);n=md(n,i)}n&&(z(this.g.la.qa===this.H.Sb,"We should have raised any outstanding events by now.  Else, we'll blow them away."),W(this.g.la,t.path,V(this.g.I,t.path)),this.H.Sb=this.g.la.qa)
}},t.Va=function(){this.u.Va()},t.Gb=function(){this.u.Gb()},t.Nc=function(t){if("undefined"!=typeof console){t?(this.gc||(this.gc=new sc(this.$)),t=this.gc.get()):t=this.$.get();var e,n=t,i=[],o=0;for(e in n)i[o++]=e;var r=function(t,e){return Math.max(e.length,t)};if(i.reduce)e=i.reduce(r,0);else{var a=0;ib(i,function(t){a=r.call(j,a,t)}),e=a}for(var s in t){for(n=t[s],i=s.length;e+2>i;i++)s+=" ";console.log(s+n)}}},t.Oc=function(t){rc(this.$,t),this.nd.Pc[t]=k},t.e=function(){N("r:"+this.u.id+":",arguments)},da(ke),ke.prototype.Va=function(){for(var t in this.ab)this.ab[t].Va()},ke.prototype.interrupt=ke.prototype.Va,ke.prototype.Gb=function(){for(var t in this.ab)this.ab[t].Gb()},ke.prototype.resume=ke.prototype.Gb;var Z={Ad:function(t){var e=R.prototype.hash;R.prototype.hash=t;var n=ac.prototype.hash;return ac.prototype.hash=t,function(){R.prototype.hash=e,ac.prototype.hash=n}}};Z.hijackHash=Z.Ad,Z.Ka=function(t){return t.Ka()},Z.queryIdentifier=Z.Ka,Z.Cd=function(t){return t.n.u.fa},Z.listens=Z.Cd,Z.Kd=function(t){return t.n.u.ia},Z.refConnection=Z.Kd,Z.pd=Vc,Z.DataConnection=Z.pd,Vc.prototype.sendRequest=Vc.prototype.Da,Vc.prototype.interrupt=Vc.prototype.Va,Z.qd=Nc,Z.RealTimeConnection=Z.qd,Nc.prototype.sendRequest=Nc.prototype.ld,Nc.prototype.close=Nc.prototype.close,Z.od=qb,Z.ConnectionTarget=Z.od,Z.yd=function(){Gc=zc=k},Z.forceLongPolling=Z.yd,Z.zd=function(){Hc=k},Z.forceWebSockets=Z.zd,Z.Qd=function(t,e){t.n.u.Lc=e},Z.setSecurityDebugCallback=Z.Qd,Z.Nc=function(t,e){t.n.Nc(e)},Z.stats=Z.Nc,Z.Oc=function(t,e){t.n.Oc(e)},Z.statsIncrementCounter=Z.Oc,Z.sc=function(t){return t.n.sc},$.prototype.cancel=function(t){A("Firebase.onDisconnect().cancel",0,1,arguments.length),C("Firebase.onDisconnect().cancel",1,t,k),this.Eb.Ec(this.R,t)},$.prototype.cancel=$.prototype.cancel,$.prototype.remove=function(t){A("Firebase.onDisconnect().remove",0,1,arguments.length),E("Firebase.onDisconnect().remove",this.R),C("Firebase.onDisconnect().remove",1,t,k),be(this.Eb,this.R,l,t)},$.prototype.remove=$.prototype.remove,$.prototype.set=function(t,e){A("Firebase.onDisconnect().set",1,2,arguments.length),E("Firebase.onDisconnect().set",this.R),ya("Firebase.onDisconnect().set",t,o),C("Firebase.onDisconnect().set",2,e,k),be(this.Eb,this.R,t,e)},$.prototype.set=$.prototype.set,$.prototype.bb=function(t,e,n){A("Firebase.onDisconnect().setWithPriority",2,3,arguments.length),E("Firebase.onDisconnect().setWithPriority",this.R),ya("Firebase.onDisconnect().setWithPriority",t,o),Da("Firebase.onDisconnect().setWithPriority",2,e,o),C("Firebase.onDisconnect().setWithPriority",3,n,k),(".length"===this.Ca||".keys"===this.Ca)&&g("Firebase.onDisconnect().setWithPriority failed: "+this.Ca+" is a read-only object.");var i=this.Eb,r=this.R,a=S(t,e);cd(i.u,r.toString(),a.U(k),function(t){"ok"===t&&hd(i.Q,r,a),ae(n,t)})},$.prototype.setWithPriority=$.prototype.bb,$.prototype.update=function(t,e){A("Firebase.onDisconnect().update",1,2,arguments.length),E("Firebase.onDisconnect().update",this.R),Ca("Firebase.onDisconnect().update",t),C("Firebase.onDisconnect().update",2,e,k);var n,i=this.Eb,r=this.R,a=k;for(n in t)a=o;if(a)N("onDisconnect().update() called with empty data.  Don't do anything."),ae(e,k);else{a=i.u,n=r.toString();var s=function(n){if("ok"===n)for(var o in t){var a=S(t[o]);hd(i.Q,r.F(o),a)}ae(e,n)};a.V?dd(a,"om",n,t,s):a.vb.push({Jc:n,action:"om",data:t,C:s})}},$.prototype.update=$.prototype.update;var le,me=0,ne=[];le=function(t){var e=t===me;me=t;for(var n=Array(8),i=7;i>=0;i--)n[i]="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(t%64),t=Math.floor(t/64);if(z(0===t),t=n.join(""),e){for(i=11;i>=0&&63===ne[i];i--)ne[i]=0;ne[i]++}else for(i=0;12>i;i++)ne[i]=Math.floor(64*Math.random());for(i=0;12>i;i++)t+="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(ne[i]);return z(20===t.length,"NextPushId: Length should be 20."),t},ka(J,H);var oe=J,pe=["Firebase"],qe=ba;!(pe[0]in qe)&&qe.execScript&&qe.execScript("var "+pe[0]);for(var re;pe.length&&(re=pe.shift());)!pe.length&&u(oe)?qe[re]=oe:qe=qe[re]?qe[re]:qe[re]={};J.prototype.name=function(){return A("Firebase.name",0,0,arguments.length),this.path.f()?l:this.path.Z<this.path.m.length?this.path.m[this.path.m.length-1]:l},J.prototype.name=J.prototype.name,J.prototype.F=function(t){if(A("Firebase.child",1,1,arguments.length),ga(t))t=String(t);else if(!(t instanceof K))if(F(this.path)===l){var e=t;e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Ga("Firebase.child",e)}else Ga("Firebase.child",t);return new J(this.n,this.path.F(t))},J.prototype.child=J.prototype.F,J.prototype.parent=function(){A("Firebase.parent",0,0,arguments.length);var t=this.path.parent();return t===l?l:new J(this.n,t)},J.prototype.parent=J.prototype.parent,J.prototype.root=function(){A("Firebase.ref",0,0,arguments.length);for(var t=this;t.parent()!==l;)t=t.parent();return t},J.prototype.root=J.prototype.root,J.prototype.toString=function(){A("Firebase.toString",0,0,arguments.length);var t;if(this.parent()===l)t=this.n.toString();else{t=this.parent().toString()+"/";var e=this.name();t+=encodeURIComponent(String(e))}return t},J.prototype.toString=J.prototype.toString,J.prototype.set=function(t,e){return A("Firebase.set",1,2,arguments.length),E("Firebase.set",this.path),ya("Firebase.set",t,o),C("Firebase.set",2,e,k),this.n.bb(this.path,t,l,e)},J.prototype.set=J.prototype.set,J.prototype.update=function(t,e){return A("Firebase.update",1,2,arguments.length),E("Firebase.update",this.path),Ca("Firebase.update",t),C("Firebase.update",2,e,k),this.n.update(this.path,t,e)},J.prototype.update=J.prototype.update,J.prototype.bb=function(t,e,n){return A("Firebase.setWithPriority",2,3,arguments.length),E("Firebase.setWithPriority",this.path),ya("Firebase.setWithPriority",t,o),Da("Firebase.setWithPriority",2,e,o),C("Firebase.setWithPriority",3,n,k),(".length"===this.name()||".keys"===this.name())&&g("Firebase.setWithPriority failed: "+this.name()+" is a read-only object."),this.n.bb(this.path,t,e,n)},J.prototype.setWithPriority=J.prototype.bb,J.prototype.remove=function(t){A("Firebase.remove",0,1,arguments.length),E("Firebase.remove",this.path),C("Firebase.remove",1,t,k),this.set(l,t)},J.prototype.remove=J.prototype.remove,J.prototype.transaction=function(t,e,n){function i(){}A("Firebase.transaction",1,3,arguments.length),E("Firebase.transaction",this.path),C("Firebase.transaction",1,t,o),C("Firebase.transaction",2,e,k),u(n)&&"boolean"!=typeof n&&g(Error(B("Firebase.transaction",3,k)+"must be a boolean.")),(".length"===this.name()||".keys"===this.name())&&g("Firebase.transaction failed: "+this.name()+" is a read-only object."),"undefined"==typeof n&&(n=k);var r=this.n,a=this.path,s=n;r.e("transaction on "+a);var c=new J(r,a);c.Ya("value",i);var s={path:a,update:t,C:e,status:l,ed:Hb(),mc:s,kd:0,jc:function(){c.tb("value",i)},kc:l},h=s.update(V(r.fb,a).U());if(u(h)){za("transaction failed: Data returned ",h),s.status=1;var f=L(r.eb,a),p=f.k()||[];p.push(s),M(f,p),f="object"==typeof h&&D(h,".priority")?h[".priority"]:V(r.g.I,a).j(),W(r.fb,a,S(h,f)),s.mc&&(W(r.g.la,a,S(h,f)),Y(r.H,a,[a])),de(r)}else s.jc(),s.C&&(r=ge(r,a),s.C(l,o,r))},J.prototype.transaction=J.prototype.transaction,J.prototype.Mc=function(t,e){A("Firebase.setPriority",1,2,arguments.length),E("Firebase.setPriority",this.path),Da("Firebase.setPriority",1,t,o),C("Firebase.setPriority",2,e,k),this.n.Mc(this.path,t,e)},J.prototype.setPriority=J.prototype.Mc,J.prototype.push=function(t,e){A("Firebase.push",0,2,arguments.length),E("Firebase.push",this.path),ya("Firebase.push",t,k),C("Firebase.push",2,e,k);var n=Xd(this.n),n=le(n),n=this.F(n);return"undefined"!=typeof t&&t!==l&&n.set(t,e),n},J.prototype.push=J.prototype.push,J.prototype.ga=function(){return new $(this.n,this.path,this.name())},J.prototype.onDisconnect=J.prototype.ga,J.prototype.Ld=function(){P("FirebaseRef.removeOnDisconnect() being deprecated. Please use FirebaseRef.onDisconnect().remove() instead."),this.ga().remove(),ce(this.n)},J.prototype.removeOnDisconnect=J.prototype.Ld,J.prototype.Pd=function(t){P("FirebaseRef.setOnDisconnect(value) being deprecated. Please use FirebaseRef.onDisconnect().set(value) instead."),this.ga().set(t),ce(this.n)},J.prototype.setOnDisconnect=J.prototype.Pd,J.prototype.hb=function(t,e,n){A("Firebase.auth",1,3,arguments.length),v(t)||g(Error(B("Firebase.auth",1,o)+"must be a valid credential (a string).")),C("Firebase.auth",2,e,k),C("Firebase.auth",3,e,k),this.n.hb(t,e,n)},J.prototype.auth=J.prototype.hb,J.prototype.Kb=function(){this.n.Kb()},J.prototype.unauth=J.prototype.Kb,J.enableLogging=Nb,J.ServerValue={TIMESTAMP:{".sv":"timestamp"}},J.INTERNAL=Z,J.Context=ke}();